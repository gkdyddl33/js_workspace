<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<style>
    #myMap{
        width: 100%;
        height: 800px;
        background: yellow;
        margin: auto;
    }
</style>
<script>
    // (**) 맛집들을 보유할 일차원 배열
    var storeArray= [
        {
            // 객체 삽입
            content:"바스버거",
            pos:{
                lati:37.499838,
                longi:127.035814
            },
            url:"../images/food/hambuger.webp"
        },
        {           
            content:"디저트카페",
            pos:{
                lati:37.503425, 
                longi:127.026688
            },
            url:"../images/food/dessert.webp"
        },
        {           
            content:"라면",
            pos:{
                lati:37.506433, 
                longi:127.026093
            },
            url:"../images/food/raman.webp"
        },
        {           
            content:"레스토랑",
            pos:{
                lati:37.496811, 
                longi:127.029221
            },
            url:"../images/food/rest.webp"
        },
        {           
            content:"빙수",
            pos:{
                lati:37.502052, 
                longi:127.026963
            },
            url:"../images/food/binso.webp"
        }
    ];
    
    var myMap;

    function init(){
        myMap = document.getElementById("myMap");
        createMap();
    }

    // --> 여기서 map처리 할 것
    function createMap(){
        // 구글 맵 객체 생성하기
        var map = new google.maps.Map(myMap,{
            center : new google.maps.LatLng(37.499838, 127.035814),
            zoom:17
        });

        for(var i=0;i<storeArray.length;i++){
            // 한개의 제이슨이 담겨진다. 
            var store = storeArray[i];
            // 지도에 마커 표시
            var marker = new google.maps.Marker({
                position:new google.maps.LatLng(store.pos.lati, store.pos.longi),
                icon:{
                    //"../images/food/hambuger.webp"
                    url:store.url,
                    scaledSize:new google.maps.Size(45,45)
                }
            });
            // 마커를 적용할 맵 객체
            marker.setMap(map);
            // 정보창 띄우기
            var popup = new google.maps.InfoWindow({
                content:store.content
            });
            // 정보창 팝업을 적용할 맵 지정
            popup.open(map,marker);
        }
    }
</script>
</head>
<body>
    <div id="myMap"></div>
</body>
</html>
<script src="https://maps.googleapis.com/maps/api/js?key=&callback=init"></script>